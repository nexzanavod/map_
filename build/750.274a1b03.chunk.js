(self.webpackChunkmy_project=self.webpackChunkmy_project||[]).push([[750],{51754:(T,p,e)=>{"use strict";e.d(p,{F:()=>g});var t=e(67294),o=e(31613),a=e(86896),i=e(88767);const g=(s={},E={})=>{const{id:l="",...d}=s,{get:n}=(0,o.kY)(),{locale:u}=(0,a.Z)(),f=(0,o.Xe)(u,{sensitivity:"base"}),{data:c,error:m,isError:r,isLoading:y,refetch:S}=(0,i.useQuery)(["roles",l,d],async()=>{const{data:x}=await n(`/admin/roles/${l??""}`,{params:d});return x},E);return{roles:t.useMemo(()=>{let x=[];return l&&c?x=[c.data]:Array.isArray(c?.data)&&(x=c.data),[...x].sort((O,R)=>f.compare(O.name,R.name))},[c,l,f]),error:m,isError:r,isLoading:y,refetch:S}}},79194:(T,p,e)=>{"use strict";e.d(p,{v:()=>a});var t=e(67294),o=e(86706);function a(i,g){const s=(0,o.oR)();(0,t.useEffect)(()=>{s.injectReducer(i,g)},[s,i,g])}},75021:(T,p,e)=>{"use strict";e.d(p,{q:()=>i});var t=e(67294),o=e(31613),a=e(88767);function i({enabled:g}={enabled:!0}){const{get:s}=(0,o.kY)(),{data:E,isError:l,isLoading:d}=(0,a.useQuery)(["ee","license-limit-info"],async()=>{const{data:{data:f}}=await s("/admin/license-limit-information");return f},{enabled:g}),n=t.useMemo(()=>E??{},[E]),u=t.useCallback(f=>(n?.features??[]).find(m=>m.name===f)?.options??{},[n?.features]);return{license:n,getFeature:u,isError:l,isLoading:d}}},11984:(T,p,e)=>{"use strict";e.d(p,{CI:()=>s,ES:()=>o,FP:()=>d,Js:()=>u,Lk:()=>c,Mu:()=>l,PP:()=>i,Pz:()=>f,_V:()=>g,fC:()=>a,rI:()=>n,wt:()=>m,xn:()=>E});var t=e(86978);function o(r){return{type:t.bc,payload:{id:r}}}function a({workflow:r}){return{type:t.qZ,payload:r}}function i({workflows:r}){return{type:t.QM,payload:r}}function g(r){return{type:t.x4,payload:{stageId:r}}}function s(r={}){return{type:t.Ot,payload:r}}function E(r,y){return{type:t.Nj,payload:{stageId:r,...y}}}function l(r){return{type:t.k_,payload:r}}function d(r,y){return{type:t.$k,payload:{newIndex:y,oldIndex:r}}}function n(r){return{type:t.VS,payload:r}}function u(){return{type:t.gu}}function f(r){return{type:t.yq,payload:r}}function c(r){return{type:t.zn,payload:r}}function m(r){return{type:t.rg,payload:r}}},43390:(T,p,e)=>{"use strict";e.d(p,{eJ:()=>A,lx:()=>O,h4:()=>P,fC:()=>R});var t=e(67294),o=e(71590),a=e(40720),i=e(34726),g=e(90731),s=e(31613),E=e(97695),l=e(86896),d=e(40784),n=e(86978),u=e(96987),f=e(10574),c=e(58471),m=e(45697),r=e.n(m),y=e(88972);const S=(0,y.ZP)(u.k)`
  svg path {
    fill: ${({theme:M})=>M.colors.neutral600};
  }
`;function C({name:M}){return t.createElement(u.k,{background:"primary100",borderStyle:"dashed",borderColor:"primary600",borderWidth:"1px",gap:3,hasRadius:!0,padding:3,shadow:"tableShadow",width:(0,s.Q1)(300)},t.createElement(S,{alignItems:"center",background:"neutral200",borderRadius:"50%",height:6,justifyContent:"center",width:6},t.createElement(c.Z,{width:`${8/16}rem`})),t.createElement(f.Z,{fontWeight:"bold"},M))}C.propTypes={name:r().string.isRequired};function x({type:M,item:D}){switch(M){case n.uL.STAGE:return t.createElement(C,{...D});default:return null}}function O(){return t.createElement(d.r,{renderItem:x})}function R({children:M}){return t.createElement(o.A,null,t.createElement(a.o,{tabIndex:-1},t.createElement(i.D,null,M)))}function A({href:M}){const{formatMessage:D}=(0,l.Z)();return t.createElement(s.rU,{startIcon:t.createElement(E.Z,null),to:M},D({id:"global.back",defaultMessage:"Back"}))}function P({title:M,subtitle:D,navigationAction:I,primaryAction:B}){return t.createElement(t.Fragment,null,t.createElement(s.SL,{name:M}),t.createElement(g.T,{navigationAction:I,primaryAction:B,title:M,subtitle:D}))}},38705:(T,p,e)=>{"use strict";e.d(p,{uT:()=>x,fC:()=>A,Dx:()=>C});var t=e(67294),o=e(10574),a=e(96987),i=e(74622),g=e(71543),s=e(16607),E=e(96208),l=e(94101),d=e(35771),n=e(45697),u=e.n(n),f=e(86896),c=e(88972);const m=e.p+"0cd5f8915b265d5b1856.png",r="limits-title",y="https://strapi.io/pricing-cloud",S="https://strapi.io/contact-sales";function C({children:P}){return t.createElement(o.Z,{variant:"alpha",id:r},P)}C.propTypes={children:u().node.isRequired};function x({children:P}){return t.createElement(o.Z,{variant:"omega"},P)}x.propTypes={children:u().node.isRequired};function O(){const{formatMessage:P}=(0,f.Z)();return t.createElement(a.k,{gap:2,paddingTop:4},t.createElement(l.Q,{variant:"default",isExternal:!0,href:y},P({id:"Settings.review-workflows.limit.cta.learn",defaultMessage:"Learn more"})),t.createElement(l.Q,{variant:"tertiary",isExternal:!0,href:S},P({id:"Settings.review-workflows.limit.cta.sales",defaultMessage:"Contact Sales"})))}const R=c.ZP.img`
  // Margin top|right reverse the padding of ModalBody
  margin-right: ${({theme:P})=>`-${P.spaces[7]}`};
  margin-top: ${({theme:P})=>`-${P.spaces[7]}`};
  width: 360px;
`;function A({children:P,isOpen:M,onClose:D}){const{formatMessage:I}=(0,f.Z)();return M?t.createElement(i.P,{labelledBy:r},t.createElement(g.f,null,t.createElement(a.k,{gap:2,paddingLeft:7,position:"relative"},t.createElement(a.k,{alignItems:"start",direction:"column",gap:2,width:"60%"},P,t.createElement(O,null)),t.createElement(a.k,{justifyContent:"end",height:"100%",width:"40%"},t.createElement(R,{src:m,"aria-hidden":!0,alt:"",loading:"lazy"}),t.createElement(s.x,{display:"flex",position:"absolute",right:0,top:0},t.createElement(E.h,{icon:t.createElement(d.Z,null),"aria-label":I({id:"global.close",defaultMessage:"Close"}),onClick:D})))))):null}A.defaultProps={isOpen:!1},A.propTypes={children:u().node.isRequired,isOpen:u().bool,onClose:u().func.isRequired}},68997:(T,p,e)=>{"use strict";e.d(p,{U:()=>oe});var t=e(67294),o=e(16607),a=e(96987),i=e(31613),g=e(45697),s=e.n(g),E=e(86896),l=e(86706),d=e(88972),n=e(11984),u=e(10574),f=e(45196);const c=(0,d.ZP)(f.Z)`
  > circle {
    fill: ${({theme:v})=>v.colors.neutral150};
  }
  > path {
    fill: ${({theme:v})=>v.colors.neutral600};
  }
`,m=(0,d.ZP)(o.x)`
  border-radius: 26px;

  svg {
    height: ${({theme:v})=>v.spaces[6]};
    width: ${({theme:v})=>v.spaces[6]};

    > path {
      fill: ${({theme:v})=>v.colors.neutral600};
    }
  }

  &:hover {
    color: ${({theme:v})=>v.colors.primary600} !important;
    ${u.Z} {
      color: ${({theme:v})=>v.colors.primary600} !important;
    }

    ${c} {
      > circle {
        fill: ${({theme:v})=>v.colors.primary600};
      }
      > path {
        fill: ${({theme:v})=>v.colors.neutral100};
      }
    }
  }

  &:active {
    ${u.Z} {
      color: ${({theme:v})=>v.colors.primary600};
    }

    ${c} {
      > circle {
        fill: ${({theme:v})=>v.colors.primary600};
      }
      > path {
        fill: ${({theme:v})=>v.colors.neutral100};
      }
    }
  }
`;function r({children:v,...$}){return t.createElement(m,{as:"button",background:"neutral0",border:"neutral150",paddingBottom:3,paddingLeft:4,paddingRight:4,paddingTop:3,shadow:"filterShadow",...$},t.createElement(a.k,{gap:2},t.createElement(c,{"aria-hidden":!0}),t.createElement(u.Z,{variant:"pi",fontWeight:"bold",textColor:"neutral500"},v)))}r.propTypes={children:s().node.isRequired};var y=e(82832),S=e(96208),C=e(22304),x=e(63122),O=e(1744),R=e(68889),A=e(31988),P=e(6498),M=e(38670),D=e(90090),I=e(52575),B=e(10360),G=e(79823),H=e(62873),Z=e(43838),U=e(41054),V=e(61080),X=e(21440),w=e(21892),b=e(86978),z=e(65649),k=e(5318);const J=(0,d.ZP)(y.ML)`
  padding-left: ${({theme:v})=>v.spaces[7]};
`,q=(0,d.ZP)(a.k)`
  > * {
    flex-grow: 1;
  }
`,Ee=(0,d.ZP)(I.sN)`
  color: ${({theme:v})=>v.colors.danger600};
`,ve=(0,d.ZP)(B.xz)`
  :hover,
  :focus {
    background-color: ${({theme:v})=>v.colors.neutral100};
  }

  > span {
    font-size: 0;
  }
`,he=(0,d.ZP)(S.h)`
  align-items: center;
  border-radius: ${({theme:v})=>v.borderRadius};
  display: flex;
  justify-content: center;

  :hover,
  :focus {
    background-color: ${({theme:v})=>v.colors.neutral100};
  }

  svg {
    height: auto;
    width: ${({theme:v})=>v.spaces[3]}};
  }
`,ye=(0,k.s)();function Te(){return t.createElement(o.x,{background:"primary100",borderStyle:"dashed",borderColor:"primary600",borderWidth:"1px",display:"block",hasRadius:!0,padding:6,shadow:"tableShadow"})}function de({id:v,index:$,canDelete:N,canReorder:se,canUpdate:j,isOpen:re=!1,stagesCount:Q}){const Y=h=>`${h+1} of ${Q}`,ee=h=>{te(W({id:"dnd.grab-item",defaultMessage:"{item}, grabbed. Current position in list: {position}. Press up and down arrow to change position, Spacebar to drop, Escape to cancel."},{item:K.value,position:Y(h)}))},Se=h=>{te(W({id:"dnd.drop-item",defaultMessage:"{item}, dropped. Final position in list: {position}."},{item:K.value,position:Y(h)}))},we=()=>{te(W({id:"dnd.cancel-item",defaultMessage:"{item}, dropped. Re-order cancelled."},{item:K.value}))},Oe=(h,L)=>{te(W({id:"dnd.reorder",defaultMessage:"{item}, moved. New position in list: {position}."},{item:K.value,position:Y(h)})),F((0,n.FP)(L,h))},Pe=()=>{ie(!0)},[ce,te]=t.useState(null),{formatMessage:W}=(0,E.Z)(),{trackUsage:xe}=(0,i.rS)(),F=(0,l.I0)(),Ce=(0,i.lm)(),[le,Ae]=t.useState(re),[Re,ie]=t.useState(!1),[K,ue,De]=(0,U.U$)(`stages.${$}.name`),[ae,me,We]=(0,U.U$)(`stages.${$}.color`),[_,ge,Ie]=(0,U.U$)(`stages.${$}.permissions`),Le=(0,l.v9)(z.g$),[{handlerId:ke,isDragging:be,handleKeyDown:Be},$e,Ze,je,pe]=(0,X.Y9)(se,{index:$,item:{name:K.value},onGrabItem:ee,onDropItem:Se,onMoveItem:Oe,onCancel:we,type:b.uL.STAGE}),Ue=(0,w.FE)($e,Ze),Ke=ye.map(({hex:h,name:L})=>({value:h,label:W({id:"Settings.review-workflows.stage.color.name",defaultMessage:"{name}"},{name:L}),color:h})),{themeColorName:Ne}=(0,k.k)(ae.value)??{},fe=Le.filter(h=>h.code!=="strapi-super-admin");return t.useEffect(()=>{pe((0,V.rX)(),{captureDraggingState:!1})},[pe,$]),t.createElement(o.x,{ref:Ue},ce&&t.createElement(C.T,{"aria-live":"assertive"},ce),be?t.createElement(Te,null):t.createElement(x.U,{size:"S",variant:"primary",onToggle:()=>{Ae(!le),le||xe("willEditStage")},expanded:le,shadow:"tableShadow",error:ue.error??me?.error??ge?.error??!1,hasErrorMessage:!1},t.createElement(O.B,{title:K.value,togglePosition:"left",action:(N||j)&&t.createElement(a.k,null,t.createElement(B.fC,null,t.createElement(ve,{size:"S",endIcon:null,paddingLeft:2,paddingRight:2},t.createElement(G.Z,{"aria-hidden":!0,focusable:!1}),t.createElement(C.T,{as:"span"},W({id:"[tbdb].components.DynamicZone.more-actions",defaultMessage:"More actions"}))),t.createElement(B.VY,{popoverPlacement:"bottom-end",zIndex:2},t.createElement(B.rl,null,j&&t.createElement(I.sN,{onClick:()=>F((0,n.ES)(v))},W({id:"Settings.review-workflows.stage.delete",defaultMessage:"Duplicate stage"})),N&&t.createElement(Ee,{onClick:()=>F((0,n._V)(v))},W({id:"Settings.review-workflows.stage.delete",defaultMessage:"Delete"}))))),j&&t.createElement(he,{background:"transparent",forwardedAs:"div",hasRadius:!0,role:"button",noBorder:!0,tabIndex:0,"data-handler-id":ke,ref:je,label:W({id:"Settings.review-workflows.stage.drag",defaultMessage:"Drag"}),onClick:h=>h.stopPropagation(),onKeyDown:Be},t.createElement(H.Z,null)))}),t.createElement(R.v,{padding:6,background:"neutral0",hasRadius:!0},t.createElement(A.r,{gap:4},t.createElement(P.P,{col:6},t.createElement(M.o,{...K,id:K.name,disabled:!j,label:W({id:"Settings.review-workflows.stage.name.label",defaultMessage:"Stage name"}),error:ue.error??!1,onChange:h=>{De.setValue(h.target.value),F((0,n.xn)(v,{name:h.target.value}))},required:!0})),t.createElement(P.P,{col:6},t.createElement(D.q4,{disabled:!j,error:me?.error??!1,id:ae.name,required:!0,label:W({id:"content-manager.reviewWorkflows.stage.color",defaultMessage:"Color"}),onChange:h=>{We.setValue(h),F((0,n.xn)(v,{color:h}))},value:ae.value.toUpperCase(),startIcon:t.createElement(a.k,{as:"span",height:2,background:ae.value,borderColor:Ne==="neutral0"?"neutral150":"transparent",hasRadius:!0,shrink:0,width:2})},Ke.map(({value:h,label:L,color:ne})=>{const{themeColorName:Fe}=(0,k.k)(ne);return t.createElement(D.ag,{value:h,key:h,startIcon:t.createElement(a.k,{as:"span",height:2,background:ne,borderColor:Fe==="neutral0"?"neutral150":"transparent",hasRadius:!0,shrink:0,width:2})},L)}))),t.createElement(P.P,{col:6},fe.length===0?t.createElement(i.X0,{description:{id:"Settings.review-workflows.stage.permissions.noPermissions.description",defaultMessage:"You don\u2019t have the permission to see roles"},intlLabel:{id:"Settings.review-workflows.stage.permissions.label",defaultMessage:"Roles that can change this stage"},name:_.name}):t.createElement(a.k,{alignItems:"flex-end",gap:3},t.createElement(q,{grow:1},t.createElement(y.NU,{..._,disabled:!j,error:ge.error??!1,id:_.name,label:W({id:"Settings.review-workflows.stage.permissions.label",defaultMessage:"Roles that can change this stage"}),onChange:h=>{const L=h.map(ne=>({role:parseInt(ne,10),action:"admin::review-workflows.stage.transition"}));Ie.setValue(L),F((0,n.xn)(v,{permissions:L}))},placeholder:W({id:"Settings.review-workflows.stage.permissions.placeholder",defaultMessage:"Select a role"}),required:!0,value:(_.value??[]).map(h=>`${h.role}`),withTags:!0},[{label:W({id:"Settings.review-workflows.stage.permissions.allRoles.label",defaultMessage:"All roles"}),children:fe.map(h=>({value:`${h.id}`,label:h.name}))}].map(h=>"children"in h?t.createElement(y.Ab,{key:h.label,label:h.label,values:h.children.map(L=>L.value)},h.children.map(L=>t.createElement(J,{key:L.value,value:L.value},L.label))):t.createElement(y.ML,{key:h.value,value:h.value},h.label)))),t.createElement(S.h,{disabled:!j,icon:t.createElement(Z.Z,null),label:W({id:"Settings.review-workflows.stage.permissions.apply.label",defaultMessage:"Apply to all stages"}),size:"L",variant:"secondary",onClick:()=>Pe(_.value)})))))),t.createElement(i.QH.Root,{iconRightButton:null,isOpen:Re,onToggleDialog:()=>ie(!1),onConfirm:()=>{F((0,n.Mu)({permissions:_.value})),ie(!1),Ce({type:"success",message:W({id:"Settings.review-workflows.page.edit.confirm.stages.permissions.copy.success",defaultMessage:"Applied roles to all other stages of the workflow"})})},variantRightButton:"primary"},t.createElement(i.QH.Body,null,t.createElement(u.Z,{textAlign:"center",variant:"omega"},W({id:"Settings.review-workflows.page.edit.confirm.stages.permissions.copy",defaultMessage:"Roles that can change that stage will be applied to all the other stages."})))))}de.propTypes=s().shape({id:s().number.isRequired,color:s().string.isRequired,canDelete:s().bool.isRequired,canReorder:s().bool.isRequired,canUpdate:s().bool.isRequired,stagesCount:s().number.isRequired}).isRequired;const Me=(0,d.ZP)(o.x)`
  transform: translateX(-50%);
`;function oe({canDelete:v,canUpdate:$,stages:N}){const{formatMessage:se}=(0,E.Z)(),j=(0,l.I0)(),{trackUsage:re}=(0,i.rS)();return t.createElement(a.k,{direction:"column",gap:6,width:"100%"},t.createElement(o.x,{position:"relative",spacing:4,width:"100%"},t.createElement(Me,{background:"neutral200",height:"100%",left:"50%",position:"absolute",top:"0",width:2,zIndex:1}),t.createElement(a.k,{direction:"column",alignItems:"stretch",gap:6,zIndex:2,position:"relative",as:"ol"},N.map((Q,Y)=>{const ee=Q?.id??Q.__temp_key__;return t.createElement(o.x,{key:`stage-${ee}`,as:"li"},t.createElement(de,{id:ee,index:Y,isOpen:!Q.id,canDelete:N.length>1&&v,canReorder:N.length>1,canUpdate:$,stagesCount:N.length}))}))),$&&t.createElement(r,{type:"button",onClick:()=>{j((0,n.CI)({name:""})),re("willCreateStage")}},se({id:"Settings.review-workflows.stage.add",defaultMessage:"Add new stage"})))}oe.defaultProps={canDelete:!0,canUpdate:!0,stages:[]},oe.propTypes={canDelete:s().bool,canUpdate:s().bool,stages:s().arrayOf(s().shape({id:s().number,__temp_key__:s().number,name:s().string.isRequired}))}},85230:(T,p,e)=>{"use strict";e.d(p,{Y:()=>C});var t=e(67294),o=e(82832),a=e(10574),i=e(31988),g=e(6498),s=e(38670),E=e(31613),l=e(41054),d=e(45697),n=e.n(d),u=e(86896),f=e(86706),c=e(88972),m=e(11984),r=e(65649);const y=(0,c.ZP)(o.ML)`
  padding-left: ${({theme:x})=>x.spaces[7]};
`,S=(0,c.ZP)(a.Z)`
  font-style: italic;
`;function C({canUpdate:x}){const{formatMessage:O,locale:R}=(0,u.Z)(),A=(0,f.I0)(),{collectionTypes:P,singleTypes:M}=(0,f.v9)(r.HK),D=(0,f.v9)(r.DV),I=(0,f.v9)(r.D6),[B,G,H]=(0,l.U$)("name"),[Z,U,V]=(0,l.U$)("contentTypes"),X=(0,E.Xe)(R,{sensitivity:"base"});return t.createElement(i.r,{background:"neutral0",hasRadius:!0,gap:4,padding:6,shadow:"tableShadow"},t.createElement(g.P,{col:6},t.createElement(s.o,{...B,id:B.name,disabled:!x,label:O({id:"Settings.review-workflows.workflow.name.label",defaultMessage:"Workflow Name"}),error:G.error??!1,onChange:w=>{A((0,m.rI)({name:w.target.value})),H.setValue(w.target.value)},required:!0})),t.createElement(g.P,{col:6},t.createElement(o.NU,{...Z,customizeContent:w=>O({id:"Settings.review-workflows.workflow.contentTypes.displayValue",defaultMessage:"{count} {count, plural, one {content type} other {content types}} selected"},{count:w.length}),disabled:!x,error:U.error??!1,id:Z.name,label:O({id:"Settings.review-workflows.workflow.contentTypes.label",defaultMessage:"Associated to"}),onChange:w=>{A((0,m.rI)({contentTypes:w})),V.setValue(w)},placeholder:O({id:"Settings.review-workflows.workflow.contentTypes.placeholder",defaultMessage:"Select"})},[...P.length>0?[{label:O({id:"Settings.review-workflows.workflow.contentTypes.collectionTypes.label",defaultMessage:"Collection Types"}),children:[...P].sort((w,b)=>X.compare(w.info.displayName,b.info.displayName)).map(w=>({label:w.info.displayName,value:w.uid}))}]:[],...M.length>0?[{label:O({id:"Settings.review-workflows.workflow.contentTypes.singleTypes.label",defaultMessage:"Single Types"}),children:[...M].map(w=>({label:w.info.displayName,value:w.uid}))}]:[]].map(w=>"children"in w?t.createElement(o.Ab,{key:w.label,label:w.label,values:w.children.map(b=>b.value.toString())},w.children.map(b=>{const{name:z}=I.find(k=>(D&&k.id!==D.id||!D)&&k.contentTypes.includes(b.value))??{};return t.createElement(y,{key:b.value,value:b.value},O({id:"Settings.review-workflows.workflow.contentTypes.assigned.notice",defaultMessage:"{label} {name, select, undefined {} other {<i>(assigned to <em>{name}</em> workflow)</i>}}"},{label:b.label,name:z,em:(...k)=>t.createElement(a.Z,{as:"em",fontWeight:"bold"},k),i:(...k)=>t.createElement(S,null,k)}))})):t.createElement(o.ML,{key:w.value,value:w.value},w.label)))))}C.defaultProps={canUpdate:!0},C.propTypes={canUpdate:n().bool}},86978:(T,p,e)=>{"use strict";e.d(p,{$k:()=>m,Ef:()=>x,FT:()=>S,Nj:()=>f,Ot:()=>n,QM:()=>l,VS:()=>r,_X:()=>O,bc:()=>u,gu:()=>a,k_:()=>c,lv:()=>y,qZ:()=>E,rg:()=>g,sN:()=>o,uL:()=>C,x4:()=>d,yq:()=>i,zn:()=>s});var t=e(12255);const o="settings_review-workflows",a="Settings/Review_Workflows/RESET_WORKFLOW",i="Settings/Review_Workflows/SET_CONTENT_TYPES",g="Settings/Review_Workflows/SET_IS_LOADING",s="Settings/Review_Workflows/SET_ROLES",E="Settings/Review_Workflows/SET_WORKFLOW",l="Settings/Review_Workflows/SET_WORKFLOWS",d="Settings/Review_Workflows/WORKFLOW_DELETE_STAGE",n="Settings/Review_Workflows/WORKFLOW_ADD_STAGE",u="Settings/Review_Workflows/WORKFLOW_CLONE_STAGE",f="Settings/Review_Workflows/WORKFLOW_UPDATE_STAGE",c="Settings/Review_Workflows/WORKFLOW_UPDATE_STAGES",m="Settings/Review_Workflows/WORKFLOW_UPDATE_STAGE_POSITION",r="Settings/Review_Workflows/WORKFLOW_UPDATE",y={primary600:"Blue",primary200:"Lilac",alternative600:"Violet",alternative200:"Lavender",success600:"Green",success200:"Pale Green",danger500:"Cherry",danger200:"Pink",warning600:"Orange",warning200:"Yellow",secondary600:"Teal",secondary200:"Baby Blue",neutral400:"Gray",neutral0:"White"},S=t.W.colors.primary600,C={STAGE:"stage"},x="numberOfWorkflows",O="stagesPerWorkflow"},52258:(T,p,e)=>{"use strict";e.d(p,{n:()=>i});var t=e(67294),o=e(31613),a=e(88767);function i(g={}){const{get:s}=(0,o.kY)(),{id:E="",...l}=g,d={populate:"stages"},{data:n,isLoading:u,status:f,refetch:c}=(0,a.useQuery)(["review-workflows","workflows",E],async()=>(await s(`/admin/review-workflows/workflows/${E}`,{params:{...d,...l}})).data),m=t.useMemo(()=>E&&n?.data?[n.data]:Array.isArray(n?.data)?n.data:[],[n?.data,E]);return{meta:t.useMemo(()=>n?.meta??{},[n?.meta]),workflows:m,isLoading:u,status:f,refetch:c}}},3848:(T,p,e)=>{"use strict";e.d(p,{E:()=>a,I:()=>i});var t=e(18172),o=e(86978);const a={serverState:{contentTypes:{collectionTypes:[],singleTypes:[]},roles:[],workflow:null,workflows:[]},clientState:{currentWorkflow:{data:{name:"",contentTypes:[],stages:[],permissions:void 0}},isLoading:!0}};function i(s=a,E){return(0,t.Uy)(s,l=>{const{payload:d}=E;switch(E.type){case o.yq:{l.serverState.contentTypes=d;break}case o.rg:{l.clientState.isLoading=d;break}case o.zn:{l.serverState.roles=d;break}case o.qZ:{const n=d;n&&(l.serverState.workflow=n,l.clientState.currentWorkflow.data={...n,stages:n.stages.map(u=>({...u,color:u?.color??o.FT}))});break}case o.QM:{l.serverState.workflows=d;break}case o.gu:{l.clientState=a.clientState,l.serverState=a.serverState;break}case o.x4:{const{stageId:n}=d,{currentWorkflow:u}=s.clientState;l.clientState.currentWorkflow.data.stages=u.data.stages.filter(f=>(f?.id??f.__temp_key__)!==n);break}case o.Ot:{const{currentWorkflow:n}=s.clientState;n.data||(l.clientState.currentWorkflow.data={stages:[]});const u=g(l.clientState.currentWorkflow.data.stages);l.clientState.currentWorkflow.data.stages.push({...d,color:d?.color??o.FT,__temp_key__:u});break}case o.bc:{const{currentWorkflow:n}=s.clientState,{id:u}=d,f=n.data.stages.findIndex(m=>(m?.id??m?.__temp_key__)===u),c=n.data.stages[f];l.clientState.currentWorkflow.data.stages.splice(f+1,0,{...c,id:void 0,__temp_key__:g(l.clientState.currentWorkflow.data.stages)});break}case o.Nj:{const{currentWorkflow:n}=s.clientState,{stageId:u,...f}=d;l.clientState.currentWorkflow.data.stages=n.data.stages.map(c=>(c.id??c.__temp_key__)===u?{...c,...f}:c);break}case o.k_:{const{currentWorkflow:n}=s.clientState;l.clientState.currentWorkflow.data.stages=n.data.stages.map(u=>({...u,...d}));break}case o.$k:{const{currentWorkflow:{data:{stages:n}}}=s.clientState,{newIndex:u,oldIndex:f}=d;if(u>=0&&u<n.length){const c=n[f];let m=[...n];m.splice(f,1),m.splice(u,0,c),l.clientState.currentWorkflow.data.stages=m}break}case o.VS:{l.clientState.currentWorkflow.data={...l.clientState.currentWorkflow.data,...d};break}default:break}})}const g=(s=[])=>{const E=s.map(l=>l.id??l.__temp_key__);return Math.max(...E,-1)+1}},65649:(T,p,e)=>{"use strict";e.d(p,{CA:()=>f,D6:()=>n,DV:()=>d,HK:()=>E,RR:()=>m,bH:()=>u,g$:()=>l,xU:()=>c});var t=e(18446),o=e.n(t),a=e(20573),i=e(86978),g=e(3848);const s=r=>r[i.sN]??g.E,E=(0,a.P1)(s,({serverState:{contentTypes:r}})=>r),l=(0,a.P1)(s,({serverState:{roles:r}})=>r),d=(0,a.P1)(s,({clientState:{currentWorkflow:r}})=>r.data),n=(0,a.P1)(s,({serverState:{workflows:r}})=>r),u=(0,a.P1)(s,({serverState:r,clientState:{currentWorkflow:y}})=>!o()(r.workflow,y.data)),f=(0,a.P1)(s,({serverState:r,clientState:{currentWorkflow:y}})=>!(r.workflow?.stages??[]).every(S=>!!y.data.stages.find(({id:C})=>C===S.id))),c=(0,a.P1)(s,({clientState:{isLoading:r}})=>r),m=(0,a.P1)(s,({serverState:r})=>r)},5318:(T,p,e)=>{"use strict";e.d(p,{k:()=>a,s:()=>i});var t=e(12255),o=e(86978);function a(g){if(!g)return null;const E=Object.entries(t.W.colors).filter(([,l])=>l.toUpperCase()===g.toUpperCase()).reduce((l,[d])=>(o.lv?.[d]&&(l=d),l),null);return E?{themeColorName:E,name:o.lv[E]}:null}function i(){return Object.entries(o.lv).map(([g,s])=>({hex:t.W.colors[g].toUpperCase(),name:s}))}},66578:(T,p,e)=>{"use strict";e.d(p,{V:()=>i});var t=e(36968),o=e.n(t),a=e(87561);async function i({values:g,formatMessage:s}){const E=a.Ry({contentTypes:a.IX().of(a.Z_()),name:a.Z_().max(255,s({id:"Settings.review-workflows.validation.name.max-length",defaultMessage:"Name can not be longer than 255 characters"})).required(),stages:a.IX().of(a.Ry().shape({name:a.Z_().required(s({id:"Settings.review-workflows.validation.stage.name",defaultMessage:"Name is required"})).max(255,s({id:"Settings.review-workflows.validation.stage.max-length",defaultMessage:"Name can not be longer than 255 characters"})).test("unique-name",s({id:"Settings.review-workflows.validation.stage.duplicate",defaultMessage:"Stage name must be unique"}),function(l){const{options:{context:d}}=this;return d.stages.filter(n=>n.name===l).length===1}),color:a.Z_().required(s({id:"Settings.review-workflows.validation.stage.color",defaultMessage:"Color is required"})).matches(/^#(?:[0-9a-fA-F]{3}){1,2}$/i),permissions:a.IX(a.Ry({role:a.Rx().strict().typeError(s({id:"Settings.review-workflows.validation.stage.permissions.role.number",defaultMessage:"Role must be of type number"})).required,action:a.Z_().required({id:"Settings.review-workflows.validation.stage.permissions.action.required",defaultMessage:"Action is a required argument"})})).strict()})).min(1)});try{return await E.validate(g,{abortEarly:!1,context:g}),!0}catch(l){let d={};return l instanceof a.p8&&l.inner.forEach(n=>{o()(d,n.path,n.message)}),d}}},27561:(T,p,e)=>{var t=e(67990),o=/^\s+/;function a(i){return i&&i.slice(0,t(i)+1).replace(o,"")}T.exports=a},67990:T=>{var p=/\s/;function e(t){for(var o=t.length;o--&&p.test(t.charAt(o)););return o}T.exports=e},51584:(T,p,e)=>{var t=e(44239),o=e(37005),a="[object Boolean]";function i(g){return g===!0||g===!1||o(g)&&t(g)==a}T.exports=i},7654:(T,p,e)=>{var t=e(81763);function o(a){return t(a)&&a!=+a}T.exports=o},81763:(T,p,e)=>{var t=e(44239),o=e(37005),a="[object Number]";function i(g){return typeof g=="number"||o(g)&&t(g)==a}T.exports=i},14841:(T,p,e)=>{var t=e(27561),o=e(13218),a=e(33448),i=0/0,g=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,E=/^0o[0-7]+$/i,l=parseInt;function d(n){if(typeof n=="number")return n;if(a(n))return i;if(o(n)){var u=typeof n.valueOf=="function"?n.valueOf():n;n=o(u)?u+"":u}if(typeof n!="string")return n===0?n:+n;n=t(n);var f=s.test(n);return f||E.test(n)?l(n.slice(2),f?2:8):g.test(n)?i:+n}T.exports=d},63122:(T,p,e)=>{"use strict";e.d(p,{U:()=>f,y:()=>n});var t=e(85893),o=e(67294),a=e(88972),i=e(31254),g=e(92058),s=e(10574),E=e(96987),l=e(16607);const d=({theme:c,expanded:m,variant:r,disabled:y,error:S})=>S?`1px solid ${c.colors.danger600} !important`:y?`1px solid ${c.colors.neutral150}`:m?`1px solid ${c.colors.primary600}`:r==="primary"?`1px solid ${c.colors.neutral0}`:`1px solid ${c.colors.neutral100}`,n=(0,a.ZP)(s.Z)``,u=(0,a.ZP)(l.x)`
  border: ${d};

  &:hover:not([aria-disabled='true']) {
    border: 1px solid ${({theme:c})=>c.colors.primary600};

    ${n} {
      color: ${({theme:c,expanded:m})=>m?void 0:c.colors.primary700};
    }

    ${s.Z} {
      color: ${({theme:c,expanded:m})=>m?void 0:c.colors.primary600};
    }

    & > ${E.k} {
      background: ${({theme:c})=>c.colors.primary100};
    }

    [data-strapi-dropdown='true'] {
      background: ${({theme:c})=>c.colors.primary200};
    }
  }
`,f=({children:c,disabled:m=!1,error:r,expanded:y=!1,hasErrorMessage:S=!0,id:C,onToggle:x,toggle:O,size:R="M",variant:A="primary",shadow:P})=>{const M=(0,g.M)(C),D=o.useMemo(()=>({expanded:y,onToggle:x,toggle:O,id:M,size:R,variant:A,disabled:m}),[m,y,M,x,R,O,A]);return(0,t.jsxs)(i.S.Provider,{value:D,children:[(0,t.jsx)(u,{"data-strapi-expanded":y,disabled:m,"aria-disabled":m,expanded:y,hasRadius:!0,variant:A,error:r,shadow:P,children:c}),r&&S&&(0,t.jsx)(l.x,{paddingTop:1,children:(0,t.jsx)(s.Z,{variant:"pi",textColor:"danger600",children:r})})]})}},68889:(T,p,e)=>{"use strict";e.d(p,{v:()=>i});var t=e(85893),o=e(31254),a=e(16607);const i=({children:g,...s})=>{const{expanded:E,id:l}=(0,o.A)();if(!E)return null;const d=`accordion-content-${l}`,n=`accordion-label-${l}`,u=`accordion-desc-${l}`;return(0,t.jsx)(a.x,{role:"region",id:d,"aria-labelledby":n,"aria-describedby":u,...s,children:g})}},31254:(T,p,e)=>{"use strict";e.d(p,{A:()=>a,S:()=>o});var t=e(67294);const o=(0,t.createContext)({disabled:!1,expanded:!1,id:"",size:"M",variant:"primary"}),a=()=>(0,t.useContext)(o)},1744:(T,p,e)=>{"use strict";e.d(p,{B:()=>c});var t=e(85893),o=e(58471),a=e(88972),i=e(63122),g=e(31254);const s=({expanded:m,disabled:r,variant:y})=>{let S="neutral100";return m?S="primary100":r?S="neutral150":y==="primary"&&(S="neutral0"),S};var E=e(58753),l=e(85200),d=e(96987),n=e(10574);const u=(0,a.ZP)(E.A)`
  text-align: left;

  // necessary to make the ellipsis prop work on the title
  > span {
    max-width: 100%;
  }

  svg {
    width: ${14/16}rem;
    height: ${14/16}rem;

    path {
      fill: ${({theme:m,expanded:r})=>r?m.colors.primary600:m.colors.neutral500};
    }
  }
`,f=(0,a.ZP)(d.k)`
  min-height: ${({theme:m,size:r})=>m.sizes.accordions[r]};
  border-radius: ${({theme:m,expanded:r})=>r?`${m.borderRadius} ${m.borderRadius} 0 0`:m.borderRadius};

  &:hover {
    svg {
      path {
        fill: ${({theme:m})=>m.colors.primary600};
      }
    }
  }
`,c=({title:m,description:r,as:y="span",togglePosition:S="right",action:C,...x})=>{const{onToggle:O,toggle:R,expanded:A,id:P,size:M,variant:D,disabled:I}=(0,g.A)(),B=`accordion-content-${P}`,G=`accordion-label-${P}`,H=`accordion-desc-${P}`,Z=M==="M"?6:4,U=M==="M"?Z:Z-2,V=s({expanded:A,disabled:I,variant:D}),w={as:y,fontWeight:M==="S"?"bold":void 0,id:G,textColor:A?"primary600":"neutral700",ellipsis:!0,variant:M==="M"?"delta":void 0},b=A?"primary600":"neutral600",z=A?"primary200":"neutral200",k=M==="M"?`${32/16}rem`:`${24/16}rem`,J=()=>{I||(R&&!O?(console.warn('Deprecation warning: Usage of "toggle" prop in Accordion component is deprecated. This is discouraged and will be removed in the next major release. Please use "onToggle" instead'),R()):O&&O())},q=(0,t.jsx)(d.k,{justifyContent:"center",borderRadius:"50%",height:k,width:k,transform:A?"rotate(180deg)":void 0,"data-strapi-dropdown":!0,"aria-hidden":!0,as:"span",background:z,cursor:I?"not-allowed":"pointer",onClick:J,shrink:0,children:(0,t.jsx)(l.J,{as:o.Z,width:M==="M"?`${11/16}rem`:`${8/16}rem`,color:A?"primary600":"neutral600"})});return(0,t.jsx)(f,{paddingBottom:U,paddingLeft:Z,paddingRight:Z,paddingTop:U,background:V,expanded:A,size:M,justifyContent:"space-between",cursor:I?"not-allowed":"",children:(0,t.jsxs)(d.k,{gap:3,flex:1,maxWidth:"100%",children:[S==="left"&&q,(0,t.jsx)(u,{onClick:J,"aria-disabled":I,"aria-expanded":A,"aria-controls":B,"aria-labelledby":G,"data-strapi-accordion-toggle":!0,expanded:A,type:"button",flex:1,minWidth:0,...x,children:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.y,{...w,children:m}),r&&(0,t.jsx)(n.Z,{as:"p",id:H,textColor:b,children:r})]})}),S==="right"&&(0,t.jsxs)(d.k,{gap:3,children:[q,C]}),S==="left"&&C]})})}},94101:(T,p,e)=>{"use strict";e.d(p,{Q:()=>n});var t=e(85893),o=e(67294),a=e(88972),i=e(62485),g=e(20501),s=e(53342),E=e(96987),l=e(10574);const d=(0,a.ZP)(g.G)`
  text-decoration: none;

  &[aria-disabled='true'] {
    ${i.sg}
    &:active {
      ${i.sg}
    }
  }

  &:hover {
    ${i.yP}
  }

  &:active {
    ${i.tB}
  }

  ${i.PD}
`,n=o.forwardRef(({variant:u="default",startIcon:f,endIcon:c,disabled:m=!1,children:r,size:y="S",as:S=s.f,...C},x)=>{const O=y==="S"?2:"10px",R=4;return(0,t.jsxs)(d,{ref:x,"aria-disabled":m,size:y,variant:u,background:"buttonPrimary600",borderColor:"buttonPrimary600",hasRadius:!0,gap:2,inline:!0,paddingBottom:O,paddingLeft:R,paddingRight:R,paddingTop:O,pointerEvents:m?"none":void 0,...C,as:S||s.f,children:[f&&(0,t.jsx)(E.k,{"aria-hidden":!0,children:f}),(0,t.jsx)(l.Z,{variant:y==="S"?"pi":void 0,fontWeight:"bold",textColor:"buttonNeutral0",children:r}),c&&(0,t.jsx)(E.k,{"aria-hidden":!0,children:c})]})});n.displayName="LinkButton"},97695:(T,p,e)=>{"use strict";e.d(p,{Z:()=>a});var t=e(85893);const o=i=>(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1rem",height:"1rem",fill:"none",viewBox:"0 0 24 24",...i,children:(0,t.jsx)("path",{fill:"#212134",d:"M24 13.3a.2.2 0 0 1-.2.2H5.74l8.239 8.239a.2.2 0 0 1 0 .282L12.14 23.86a.2.2 0 0 1-.282 0L.14 12.14a.2.2 0 0 1 0-.282L11.86.14a.2.2 0 0 1 .282 0L13.98 1.98a.2.2 0 0 1 0 .282L5.74 10.5H23.8c.11 0 .2.09.2.2v2.6Z"})}),a=o},62873:(T,p,e)=>{"use strict";e.d(p,{Z:()=>a});var t=e(85893);const o=i=>(0,t.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1rem",height:"1rem",fill:"none",viewBox:"0 0 24 24",...i,children:[(0,t.jsx)("path",{fill:"#212134",d:"M16.563 5.587a2.503 2.503 0 1 0 0-5.007 2.503 2.503 0 0 0 0 5.007Z"}),(0,t.jsx)("path",{fill:"#212134",d:"M18.487 3.083c-.012.788-.487 1.513-1.229 1.797a1.954 1.954 0 0 1-2.184-.574A1.943 1.943 0 0 1 14.9 2.11c.4-.684 1.2-1.066 1.981-.927a1.954 1.954 0 0 1 1.606 1.9c.011.748 1.17.748 1.158 0A3.138 3.138 0 0 0 17.565.17c-1.176-.423-2.567-.03-3.36.933-.83 1.002-.968 2.45-.284 3.575.678 1.124 1.993 1.674 3.273 1.431 1.432-.272 2.428-1.593 2.451-3.019.012-.753-1.147-.753-1.158-.006ZM16.563 14.372a2.503 2.503 0 1 0 0-5.007 2.503 2.503 0 0 0 0 5.007Z"}),(0,t.jsx)("path",{fill:"#212134",d:"M18.487 11.867c-.012.789-.487 1.513-1.229 1.797a1.954 1.954 0 0 1-2.184-.574 1.943 1.943 0 0 1-.174-2.196c.4-.684 1.2-1.066 1.981-.927.928.156 1.588.968 1.606 1.9.011.748 1.17.748 1.158 0a3.138 3.138 0 0 0-2.08-2.914c-1.176-.423-2.567-.029-3.36.933-.83 1.002-.968 2.45-.284 3.575.678 1.124 1.993 1.675 3.273 1.431 1.432-.272 2.428-1.593 2.451-3.019.012-.753-1.147-.753-1.158-.005ZM16.563 23.392a2.503 2.503 0 1 0 0-5.006 2.503 2.503 0 0 0 0 5.006Z"}),(0,t.jsx)("path",{fill:"#212134",d:"M18.487 20.89c-.012.787-.487 1.512-1.229 1.796a1.954 1.954 0 0 1-2.184-.574 1.943 1.943 0 0 1-.174-2.196c.4-.684 1.2-1.066 1.981-.927.928.156 1.588.967 1.606 1.9.011.748 1.17.748 1.158 0a3.138 3.138 0 0 0-2.08-2.914c-1.176-.423-2.567-.03-3.36.933-.83 1.002-.968 2.45-.284 3.575.678 1.124 1.993 1.674 3.273 1.431 1.432-.272 2.428-1.593 2.451-3.019.012-.753-1.147-.753-1.158-.006ZM7.378 5.622a2.503 2.503 0 1 0 0-5.007 2.503 2.503 0 0 0 0 5.007Z"}),(0,t.jsx)("path",{fill:"#212134",d:"M9.302 3.119c-.011.788-.486 1.512-1.228 1.796a1.954 1.954 0 0 1-2.185-.574 1.943 1.943 0 0 1-.173-2.196c.4-.684 1.199-1.066 1.981-.927a1.943 1.943 0 0 1 1.605 1.9c.012.748 1.17.748 1.16 0A3.138 3.138 0 0 0 8.38.205c-1.176-.423-2.567-.029-3.36.933-.83 1.002-.968 2.45-.285 3.575.678 1.124 1.994 1.675 3.274 1.431 1.431-.272 2.428-1.593 2.451-3.019.012-.753-1.147-.753-1.159-.005ZM7.378 14.406a2.503 2.503 0 1 0 0-5.006 2.503 2.503 0 0 0 0 5.006Z"}),(0,t.jsx)("path",{fill:"#212134",d:"M9.302 11.902c-.011.788-.486 1.513-1.228 1.797a1.954 1.954 0 0 1-2.185-.574 1.943 1.943 0 0 1-.173-2.196c.4-.684 1.199-1.066 1.981-.927a1.943 1.943 0 0 1 1.605 1.9c.012.748 1.17.748 1.16 0A3.138 3.138 0 0 0 8.38 8.988c-1.176-.423-2.567-.03-3.36.933-.83 1.002-.968 2.45-.285 3.575.678 1.124 1.994 1.674 3.274 1.431 1.431-.272 2.428-1.593 2.451-3.019.012-.753-1.147-.753-1.159-.006ZM7.378 23.427a2.503 2.503 0 1 0 0-5.007 2.503 2.503 0 0 0 0 5.007Z"}),(0,t.jsx)("path",{fill:"#212134",d:"M9.302 20.924c-.011.788-.486 1.513-1.228 1.797a1.954 1.954 0 0 1-2.185-.574 1.943 1.943 0 0 1-.173-2.196c.4-.684 1.199-1.066 1.981-.927.933.156 1.594.967 1.605 1.9.012.748 1.17.748 1.16 0A3.139 3.139 0 0 0 8.38 18.01c-1.176-.423-2.567-.03-3.36.933-.83 1.002-.968 2.45-.285 3.569.678 1.124 1.994 1.675 3.274 1.431 1.431-.272 2.428-1.593 2.451-3.019.012-.747-1.147-.747-1.159 0Z"})]}),a=o},79823:(T,p,e)=>{"use strict";e.d(p,{Z:()=>a});var t=e(85893);const o=i=>(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1rem",height:"1rem",fill:"none",viewBox:"0 0 24 24",...i,children:(0,t.jsx)("path",{fill:"#32324D",d:"M3.5 14.6a2.6 2.6 0 1 0 0-5.2 2.6 2.6 0 0 0 0 5.2Zm8.5 0a2.6 2.6 0 1 0 0-5.2 2.6 2.6 0 0 0 0 5.2Zm8.5 0a2.6 2.6 0 1 0 0-5.2 2.6 2.6 0 0 0 0 5.2Z"})}),a=o},45196:(T,p,e)=>{"use strict";e.d(p,{Z:()=>a});var t=e(85893);const o=i=>(0,t.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1rem",height:"1rem",fill:"none",viewBox:"0 0 24 24",...i,children:[(0,t.jsx)("circle",{cx:12,cy:12,r:12,fill:"#212134"}),(0,t.jsx)("path",{fill:"#F6F6F9",d:"M17 12.569c0 .124-.1.224-.225.224h-3.981v3.982c0 .124-.101.225-.226.225h-1.136a.225.225 0 0 1-.226-.225v-3.981H7.226A.225.225 0 0 1 7 12.567v-1.136c0-.125.1-.226.225-.226h3.982V7.226c0-.124.1-.225.224-.225h1.138c.124 0 .224.1.224.225v3.982h3.982c.124 0 .225.1.225.224v1.138Z"})]}),a=o}}]);
